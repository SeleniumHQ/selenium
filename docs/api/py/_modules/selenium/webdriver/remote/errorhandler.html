<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>selenium.webdriver.remote.errorhandler &#8212; Selenium 4.25.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/classic.css?v=89b800e6" />
    
    <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js?v=b061efce"></script>
    <script src="../../../../_static/doctools.js?v=888ff710"></script>
    <script src="../../../../_static/sphinx_highlight.js?v=4825356b"></script>
    
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../../index.html">Selenium 4.25.0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../../index.html" accesskey="U">Module code</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">selenium.webdriver.remote.errorhandler</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <h1>Source code for selenium.webdriver.remote.errorhandler</h1><div class="highlight"><pre>
<span></span><span class="c1"># Licensed to the Software Freedom Conservancy (SFC) under one</span>
<span class="c1"># or more contributor license agreements.  See the NOTICE file</span>
<span class="c1"># distributed with this work for additional information</span>
<span class="c1"># regarding copyright ownership.  The SFC licenses this file</span>
<span class="c1"># to you under the Apache License, Version 2.0 (the</span>
<span class="c1"># &quot;License&quot;); you may not use this file except in compliance</span>
<span class="c1"># with the License.  You may obtain a copy of the License at</span>
<span class="c1">#</span>
<span class="c1">#   http://www.apache.org/licenses/LICENSE-2.0</span>
<span class="c1">#</span>
<span class="c1"># Unless required by applicable law or agreed to in writing,</span>
<span class="c1"># software distributed under the License is distributed on an</span>
<span class="c1"># &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY</span>
<span class="c1"># KIND, either express or implied.  See the License for the</span>
<span class="c1"># specific language governing permissions and limitations</span>
<span class="c1"># under the License.</span>

<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Any</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Dict</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Type</span>

<span class="kn">from</span> <span class="nn">selenium.common.exceptions</span> <span class="kn">import</span> <span class="n">ElementClickInterceptedException</span>
<span class="kn">from</span> <span class="nn">selenium.common.exceptions</span> <span class="kn">import</span> <span class="n">ElementNotInteractableException</span>
<span class="kn">from</span> <span class="nn">selenium.common.exceptions</span> <span class="kn">import</span> <span class="n">ElementNotSelectableException</span>
<span class="kn">from</span> <span class="nn">selenium.common.exceptions</span> <span class="kn">import</span> <span class="n">ElementNotVisibleException</span>
<span class="kn">from</span> <span class="nn">selenium.common.exceptions</span> <span class="kn">import</span> <span class="n">ImeActivationFailedException</span>
<span class="kn">from</span> <span class="nn">selenium.common.exceptions</span> <span class="kn">import</span> <span class="n">ImeNotAvailableException</span>
<span class="kn">from</span> <span class="nn">selenium.common.exceptions</span> <span class="kn">import</span> <span class="n">InsecureCertificateException</span>
<span class="kn">from</span> <span class="nn">selenium.common.exceptions</span> <span class="kn">import</span> <span class="n">InvalidArgumentException</span>
<span class="kn">from</span> <span class="nn">selenium.common.exceptions</span> <span class="kn">import</span> <span class="n">InvalidCookieDomainException</span>
<span class="kn">from</span> <span class="nn">selenium.common.exceptions</span> <span class="kn">import</span> <span class="n">InvalidCoordinatesException</span>
<span class="kn">from</span> <span class="nn">selenium.common.exceptions</span> <span class="kn">import</span> <span class="n">InvalidElementStateException</span>
<span class="kn">from</span> <span class="nn">selenium.common.exceptions</span> <span class="kn">import</span> <span class="n">InvalidSelectorException</span>
<span class="kn">from</span> <span class="nn">selenium.common.exceptions</span> <span class="kn">import</span> <span class="n">InvalidSessionIdException</span>
<span class="kn">from</span> <span class="nn">selenium.common.exceptions</span> <span class="kn">import</span> <span class="n">JavascriptException</span>
<span class="kn">from</span> <span class="nn">selenium.common.exceptions</span> <span class="kn">import</span> <span class="n">MoveTargetOutOfBoundsException</span>
<span class="kn">from</span> <span class="nn">selenium.common.exceptions</span> <span class="kn">import</span> <span class="n">NoAlertPresentException</span>
<span class="kn">from</span> <span class="nn">selenium.common.exceptions</span> <span class="kn">import</span> <span class="n">NoSuchCookieException</span>
<span class="kn">from</span> <span class="nn">selenium.common.exceptions</span> <span class="kn">import</span> <span class="n">NoSuchElementException</span>
<span class="kn">from</span> <span class="nn">selenium.common.exceptions</span> <span class="kn">import</span> <span class="n">NoSuchFrameException</span>
<span class="kn">from</span> <span class="nn">selenium.common.exceptions</span> <span class="kn">import</span> <span class="n">NoSuchShadowRootException</span>
<span class="kn">from</span> <span class="nn">selenium.common.exceptions</span> <span class="kn">import</span> <span class="n">NoSuchWindowException</span>
<span class="kn">from</span> <span class="nn">selenium.common.exceptions</span> <span class="kn">import</span> <span class="n">ScreenshotException</span>
<span class="kn">from</span> <span class="nn">selenium.common.exceptions</span> <span class="kn">import</span> <span class="n">SessionNotCreatedException</span>
<span class="kn">from</span> <span class="nn">selenium.common.exceptions</span> <span class="kn">import</span> <span class="n">StaleElementReferenceException</span>
<span class="kn">from</span> <span class="nn">selenium.common.exceptions</span> <span class="kn">import</span> <span class="n">TimeoutException</span>
<span class="kn">from</span> <span class="nn">selenium.common.exceptions</span> <span class="kn">import</span> <span class="n">UnableToSetCookieException</span>
<span class="kn">from</span> <span class="nn">selenium.common.exceptions</span> <span class="kn">import</span> <span class="n">UnexpectedAlertPresentException</span>
<span class="kn">from</span> <span class="nn">selenium.common.exceptions</span> <span class="kn">import</span> <span class="n">UnknownMethodException</span>
<span class="kn">from</span> <span class="nn">selenium.common.exceptions</span> <span class="kn">import</span> <span class="n">WebDriverException</span>


<div class="viewcode-block" id="ExceptionMapping"><a class="viewcode-back" href="../../../../webdriver_remote/selenium.webdriver.remote.errorhandler.html#selenium.webdriver.remote.errorhandler.ExceptionMapping">[docs]</a><span class="k">class</span> <span class="nc">ExceptionMapping</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    :Maps each errorcode in ErrorCode object to corresponding exception</span>
<span class="sd">    Please refer to https://www.w3.org/TR/webdriver2/#errors for w3c specification</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">NO_SUCH_ELEMENT</span> <span class="o">=</span> <span class="n">NoSuchElementException</span>
    <span class="n">NO_SUCH_FRAME</span> <span class="o">=</span> <span class="n">NoSuchFrameException</span>
    <span class="n">NO_SUCH_SHADOW_ROOT</span> <span class="o">=</span> <span class="n">NoSuchShadowRootException</span>
    <span class="n">STALE_ELEMENT_REFERENCE</span> <span class="o">=</span> <span class="n">StaleElementReferenceException</span>
    <span class="n">ELEMENT_NOT_VISIBLE</span> <span class="o">=</span> <span class="n">ElementNotVisibleException</span>
    <span class="n">INVALID_ELEMENT_STATE</span> <span class="o">=</span> <span class="n">InvalidElementStateException</span>
    <span class="n">UNKNOWN_ERROR</span> <span class="o">=</span> <span class="n">WebDriverException</span>
    <span class="n">ELEMENT_IS_NOT_SELECTABLE</span> <span class="o">=</span> <span class="n">ElementNotSelectableException</span>
    <span class="n">JAVASCRIPT_ERROR</span> <span class="o">=</span> <span class="n">JavascriptException</span>
    <span class="n">TIMEOUT</span> <span class="o">=</span> <span class="n">TimeoutException</span>
    <span class="n">NO_SUCH_WINDOW</span> <span class="o">=</span> <span class="n">NoSuchWindowException</span>
    <span class="n">INVALID_COOKIE_DOMAIN</span> <span class="o">=</span> <span class="n">InvalidCookieDomainException</span>
    <span class="n">UNABLE_TO_SET_COOKIE</span> <span class="o">=</span> <span class="n">UnableToSetCookieException</span>
    <span class="n">UNEXPECTED_ALERT_OPEN</span> <span class="o">=</span> <span class="n">UnexpectedAlertPresentException</span>
    <span class="n">NO_ALERT_OPEN</span> <span class="o">=</span> <span class="n">NoAlertPresentException</span>
    <span class="n">SCRIPT_TIMEOUT</span> <span class="o">=</span> <span class="n">TimeoutException</span>
    <span class="n">IME_NOT_AVAILABLE</span> <span class="o">=</span> <span class="n">ImeNotAvailableException</span>
    <span class="n">IME_ENGINE_ACTIVATION_FAILED</span> <span class="o">=</span> <span class="n">ImeActivationFailedException</span>
    <span class="n">INVALID_SELECTOR</span> <span class="o">=</span> <span class="n">InvalidSelectorException</span>
    <span class="n">SESSION_NOT_CREATED</span> <span class="o">=</span> <span class="n">SessionNotCreatedException</span>
    <span class="n">MOVE_TARGET_OUT_OF_BOUNDS</span> <span class="o">=</span> <span class="n">MoveTargetOutOfBoundsException</span>
    <span class="n">INVALID_XPATH_SELECTOR</span> <span class="o">=</span> <span class="n">InvalidSelectorException</span>
    <span class="n">INVALID_XPATH_SELECTOR_RETURN_TYPER</span> <span class="o">=</span> <span class="n">InvalidSelectorException</span>
    <span class="n">ELEMENT_NOT_INTERACTABLE</span> <span class="o">=</span> <span class="n">ElementNotInteractableException</span>
    <span class="n">INSECURE_CERTIFICATE</span> <span class="o">=</span> <span class="n">InsecureCertificateException</span>
    <span class="n">INVALID_ARGUMENT</span> <span class="o">=</span> <span class="n">InvalidArgumentException</span>
    <span class="n">INVALID_COORDINATES</span> <span class="o">=</span> <span class="n">InvalidCoordinatesException</span>
    <span class="n">INVALID_SESSION_ID</span> <span class="o">=</span> <span class="n">InvalidSessionIdException</span>
    <span class="n">NO_SUCH_COOKIE</span> <span class="o">=</span> <span class="n">NoSuchCookieException</span>
    <span class="n">UNABLE_TO_CAPTURE_SCREEN</span> <span class="o">=</span> <span class="n">ScreenshotException</span>
    <span class="n">ELEMENT_CLICK_INTERCEPTED</span> <span class="o">=</span> <span class="n">ElementClickInterceptedException</span>
    <span class="n">UNKNOWN_METHOD</span> <span class="o">=</span> <span class="n">UnknownMethodException</span></div>


<div class="viewcode-block" id="ErrorCode"><a class="viewcode-back" href="../../../../webdriver_remote/selenium.webdriver.remote.errorhandler.html#selenium.webdriver.remote.errorhandler.ErrorCode">[docs]</a><span class="k">class</span> <span class="nc">ErrorCode</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Error codes defined in the WebDriver wire protocol.&quot;&quot;&quot;</span>

    <span class="c1"># Keep in sync with org.openqa.selenium.remote.ErrorCodes and errorcodes.h</span>
    <span class="n">SUCCESS</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">NO_SUCH_ELEMENT</span> <span class="o">=</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="s2">&quot;no such element&quot;</span><span class="p">]</span>
    <span class="n">NO_SUCH_FRAME</span> <span class="o">=</span> <span class="p">[</span><span class="mi">8</span><span class="p">,</span> <span class="s2">&quot;no such frame&quot;</span><span class="p">]</span>
    <span class="n">NO_SUCH_SHADOW_ROOT</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;no such shadow root&quot;</span><span class="p">]</span>
    <span class="n">UNKNOWN_COMMAND</span> <span class="o">=</span> <span class="p">[</span><span class="mi">9</span><span class="p">,</span> <span class="s2">&quot;unknown command&quot;</span><span class="p">]</span>
    <span class="n">STALE_ELEMENT_REFERENCE</span> <span class="o">=</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="s2">&quot;stale element reference&quot;</span><span class="p">]</span>
    <span class="n">ELEMENT_NOT_VISIBLE</span> <span class="o">=</span> <span class="p">[</span><span class="mi">11</span><span class="p">,</span> <span class="s2">&quot;element not visible&quot;</span><span class="p">]</span>
    <span class="n">INVALID_ELEMENT_STATE</span> <span class="o">=</span> <span class="p">[</span><span class="mi">12</span><span class="p">,</span> <span class="s2">&quot;invalid element state&quot;</span><span class="p">]</span>
    <span class="n">UNKNOWN_ERROR</span> <span class="o">=</span> <span class="p">[</span><span class="mi">13</span><span class="p">,</span> <span class="s2">&quot;unknown error&quot;</span><span class="p">]</span>
    <span class="n">ELEMENT_IS_NOT_SELECTABLE</span> <span class="o">=</span> <span class="p">[</span><span class="mi">15</span><span class="p">,</span> <span class="s2">&quot;element not selectable&quot;</span><span class="p">]</span>
    <span class="n">JAVASCRIPT_ERROR</span> <span class="o">=</span> <span class="p">[</span><span class="mi">17</span><span class="p">,</span> <span class="s2">&quot;javascript error&quot;</span><span class="p">]</span>
    <span class="n">XPATH_LOOKUP_ERROR</span> <span class="o">=</span> <span class="p">[</span><span class="mi">19</span><span class="p">,</span> <span class="s2">&quot;invalid selector&quot;</span><span class="p">]</span>
    <span class="n">TIMEOUT</span> <span class="o">=</span> <span class="p">[</span><span class="mi">21</span><span class="p">,</span> <span class="s2">&quot;timeout&quot;</span><span class="p">]</span>
    <span class="n">NO_SUCH_WINDOW</span> <span class="o">=</span> <span class="p">[</span><span class="mi">23</span><span class="p">,</span> <span class="s2">&quot;no such window&quot;</span><span class="p">]</span>
    <span class="n">INVALID_COOKIE_DOMAIN</span> <span class="o">=</span> <span class="p">[</span><span class="mi">24</span><span class="p">,</span> <span class="s2">&quot;invalid cookie domain&quot;</span><span class="p">]</span>
    <span class="n">UNABLE_TO_SET_COOKIE</span> <span class="o">=</span> <span class="p">[</span><span class="mi">25</span><span class="p">,</span> <span class="s2">&quot;unable to set cookie&quot;</span><span class="p">]</span>
    <span class="n">UNEXPECTED_ALERT_OPEN</span> <span class="o">=</span> <span class="p">[</span><span class="mi">26</span><span class="p">,</span> <span class="s2">&quot;unexpected alert open&quot;</span><span class="p">]</span>
    <span class="n">NO_ALERT_OPEN</span> <span class="o">=</span> <span class="p">[</span><span class="mi">27</span><span class="p">,</span> <span class="s2">&quot;no such alert&quot;</span><span class="p">]</span>
    <span class="n">SCRIPT_TIMEOUT</span> <span class="o">=</span> <span class="p">[</span><span class="mi">28</span><span class="p">,</span> <span class="s2">&quot;script timeout&quot;</span><span class="p">]</span>
    <span class="n">INVALID_ELEMENT_COORDINATES</span> <span class="o">=</span> <span class="p">[</span><span class="mi">29</span><span class="p">,</span> <span class="s2">&quot;invalid element coordinates&quot;</span><span class="p">]</span>
    <span class="n">IME_NOT_AVAILABLE</span> <span class="o">=</span> <span class="p">[</span><span class="mi">30</span><span class="p">,</span> <span class="s2">&quot;ime not available&quot;</span><span class="p">]</span>
    <span class="n">IME_ENGINE_ACTIVATION_FAILED</span> <span class="o">=</span> <span class="p">[</span><span class="mi">31</span><span class="p">,</span> <span class="s2">&quot;ime engine activation failed&quot;</span><span class="p">]</span>
    <span class="n">INVALID_SELECTOR</span> <span class="o">=</span> <span class="p">[</span><span class="mi">32</span><span class="p">,</span> <span class="s2">&quot;invalid selector&quot;</span><span class="p">]</span>
    <span class="n">SESSION_NOT_CREATED</span> <span class="o">=</span> <span class="p">[</span><span class="mi">33</span><span class="p">,</span> <span class="s2">&quot;session not created&quot;</span><span class="p">]</span>
    <span class="n">MOVE_TARGET_OUT_OF_BOUNDS</span> <span class="o">=</span> <span class="p">[</span><span class="mi">34</span><span class="p">,</span> <span class="s2">&quot;move target out of bounds&quot;</span><span class="p">]</span>
    <span class="n">INVALID_XPATH_SELECTOR</span> <span class="o">=</span> <span class="p">[</span><span class="mi">51</span><span class="p">,</span> <span class="s2">&quot;invalid selector&quot;</span><span class="p">]</span>
    <span class="n">INVALID_XPATH_SELECTOR_RETURN_TYPER</span> <span class="o">=</span> <span class="p">[</span><span class="mi">52</span><span class="p">,</span> <span class="s2">&quot;invalid selector&quot;</span><span class="p">]</span>

    <span class="n">ELEMENT_NOT_INTERACTABLE</span> <span class="o">=</span> <span class="p">[</span><span class="mi">60</span><span class="p">,</span> <span class="s2">&quot;element not interactable&quot;</span><span class="p">]</span>
    <span class="n">INSECURE_CERTIFICATE</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;insecure certificate&quot;</span><span class="p">]</span>
    <span class="n">INVALID_ARGUMENT</span> <span class="o">=</span> <span class="p">[</span><span class="mi">61</span><span class="p">,</span> <span class="s2">&quot;invalid argument&quot;</span><span class="p">]</span>
    <span class="n">INVALID_COORDINATES</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;invalid coordinates&quot;</span><span class="p">]</span>
    <span class="n">INVALID_SESSION_ID</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;invalid session id&quot;</span><span class="p">]</span>
    <span class="n">NO_SUCH_COOKIE</span> <span class="o">=</span> <span class="p">[</span><span class="mi">62</span><span class="p">,</span> <span class="s2">&quot;no such cookie&quot;</span><span class="p">]</span>
    <span class="n">UNABLE_TO_CAPTURE_SCREEN</span> <span class="o">=</span> <span class="p">[</span><span class="mi">63</span><span class="p">,</span> <span class="s2">&quot;unable to capture screen&quot;</span><span class="p">]</span>
    <span class="n">ELEMENT_CLICK_INTERCEPTED</span> <span class="o">=</span> <span class="p">[</span><span class="mi">64</span><span class="p">,</span> <span class="s2">&quot;element click intercepted&quot;</span><span class="p">]</span>
    <span class="n">UNKNOWN_METHOD</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;unknown method exception&quot;</span><span class="p">]</span>

    <span class="n">METHOD_NOT_ALLOWED</span> <span class="o">=</span> <span class="p">[</span><span class="mi">405</span><span class="p">,</span> <span class="s2">&quot;unsupported operation&quot;</span><span class="p">]</span></div>


<div class="viewcode-block" id="ErrorHandler"><a class="viewcode-back" href="../../../../webdriver_remote/selenium.webdriver.remote.errorhandler.html#selenium.webdriver.remote.errorhandler.ErrorHandler">[docs]</a><span class="k">class</span> <span class="nc">ErrorHandler</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Handles errors returned by the WebDriver server.&quot;&quot;&quot;</span>

<div class="viewcode-block" id="ErrorHandler.check_response"><a class="viewcode-back" href="../../../../webdriver_remote/selenium.webdriver.remote.errorhandler.html#selenium.webdriver.remote.errorhandler.ErrorHandler.check_response">[docs]</a>    <span class="k">def</span> <span class="nf">check_response</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">response</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Checks that a JSON response from the WebDriver does not have an</span>
<span class="sd">        error.</span>

<span class="sd">        :Args:</span>
<span class="sd">         - response - The JSON response from the WebDriver server as a dictionary</span>
<span class="sd">           object.</span>

<span class="sd">        :Raises: If the response contains an error message.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">status</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;status&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">status</span> <span class="ow">or</span> <span class="n">status</span> <span class="o">==</span> <span class="n">ErrorCode</span><span class="o">.</span><span class="n">SUCCESS</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="n">value</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">message</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;message&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="n">screen</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;screen&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="n">stacktrace</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">status</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
            <span class="n">value_json</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">value_json</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value_json</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="kn">import</span> <span class="nn">json</span>

                <span class="k">try</span><span class="p">:</span>
                    <span class="n">value</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">value_json</span><span class="p">)</span>
                    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                        <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="p">[</span><span class="s2">&quot;value&quot;</span><span class="p">]</span>
                    <span class="n">status</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="n">status</span><span class="p">:</span>
                        <span class="n">status</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;status&quot;</span><span class="p">,</span> <span class="n">ErrorCode</span><span class="o">.</span><span class="n">UNKNOWN_ERROR</span><span class="p">)</span>
                        <span class="n">message</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">value</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;message&quot;</span><span class="p">)</span>
                        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                            <span class="n">value</span> <span class="o">=</span> <span class="n">message</span>
                            <span class="n">message</span> <span class="o">=</span> <span class="n">message</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;message&quot;</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">message</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;message&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
                <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                    <span class="k">pass</span>

        <span class="n">exception_class</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">WebDriverException</span><span class="p">]</span>
        <span class="n">e</span> <span class="o">=</span> <span class="n">ErrorCode</span><span class="p">()</span>
        <span class="n">error_codes</span> <span class="o">=</span> <span class="p">[</span><span class="n">item</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="nb">dir</span><span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">item</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;__&quot;</span><span class="p">)]</span>
        <span class="k">for</span> <span class="n">error_code</span> <span class="ow">in</span> <span class="n">error_codes</span><span class="p">:</span>
            <span class="n">error_info</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">ErrorCode</span><span class="p">,</span> <span class="n">error_code</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">error_info</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span> <span class="ow">and</span> <span class="n">status</span> <span class="ow">in</span> <span class="n">error_info</span><span class="p">:</span>
                <span class="n">exception_class</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">ExceptionMapping</span><span class="p">,</span> <span class="n">error_code</span><span class="p">,</span> <span class="n">WebDriverException</span><span class="p">)</span>
                <span class="k">break</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">exception_class</span> <span class="o">=</span> <span class="n">WebDriverException</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">value</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">response</span><span class="p">[</span><span class="s2">&quot;value&quot;</span><span class="p">]</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">exception_class</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">message</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span> <span class="ow">and</span> <span class="s2">&quot;message&quot;</span> <span class="ow">in</span> <span class="n">value</span><span class="p">:</span>
            <span class="n">message</span> <span class="o">=</span> <span class="n">value</span><span class="p">[</span><span class="s2">&quot;message&quot;</span><span class="p">]</span>

        <span class="n">screen</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># type: ignore[assignment]</span>
        <span class="k">if</span> <span class="s2">&quot;screen&quot;</span> <span class="ow">in</span> <span class="n">value</span><span class="p">:</span>
            <span class="n">screen</span> <span class="o">=</span> <span class="n">value</span><span class="p">[</span><span class="s2">&quot;screen&quot;</span><span class="p">]</span>

        <span class="n">stacktrace</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">st_value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;stackTrace&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">value</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;stacktrace&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">st_value</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">st_value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="n">stacktrace</span> <span class="o">=</span> <span class="n">st_value</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">stacktrace</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="k">for</span> <span class="n">frame</span> <span class="ow">in</span> <span class="n">st_value</span><span class="p">:</span>
                        <span class="n">line</span> <span class="o">=</span> <span class="n">frame</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;lineNumber&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
                        <span class="n">file</span> <span class="o">=</span> <span class="n">frame</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;fileName&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;anonymous&gt;&quot;</span><span class="p">)</span>
                        <span class="k">if</span> <span class="n">line</span><span class="p">:</span>
                            <span class="n">file</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">file</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="n">line</span><span class="si">}</span><span class="s2">&quot;</span>
                        <span class="n">meth</span> <span class="o">=</span> <span class="n">frame</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;methodName&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;anonymous&gt;&quot;</span><span class="p">)</span>
                        <span class="k">if</span> <span class="s2">&quot;className&quot;</span> <span class="ow">in</span> <span class="n">frame</span><span class="p">:</span>
                            <span class="n">meth</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">frame</span><span class="p">[</span><span class="s1">&#39;className&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">meth</span><span class="si">}</span><span class="s2">&quot;</span>
                        <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;    at </span><span class="si">%s</span><span class="s2"> (</span><span class="si">%s</span><span class="s2">)&quot;</span>
                        <span class="n">msg</span> <span class="o">=</span> <span class="n">msg</span> <span class="o">%</span> <span class="p">(</span><span class="n">meth</span><span class="p">,</span> <span class="n">file</span><span class="p">)</span>
                        <span class="n">stacktrace</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
                <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
                    <span class="k">pass</span>
        <span class="k">if</span> <span class="n">exception_class</span> <span class="o">==</span> <span class="n">UnexpectedAlertPresentException</span><span class="p">:</span>
            <span class="n">alert_text</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">if</span> <span class="s2">&quot;data&quot;</span> <span class="ow">in</span> <span class="n">value</span><span class="p">:</span>
                <span class="n">alert_text</span> <span class="o">=</span> <span class="n">value</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
            <span class="k">elif</span> <span class="s2">&quot;alert&quot;</span> <span class="ow">in</span> <span class="n">value</span><span class="p">:</span>
                <span class="n">alert_text</span> <span class="o">=</span> <span class="n">value</span><span class="p">[</span><span class="s2">&quot;alert&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
            <span class="k">raise</span> <span class="n">exception_class</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">screen</span><span class="p">,</span> <span class="n">stacktrace</span><span class="p">,</span> <span class="n">alert_text</span><span class="p">)</span>  <span class="c1"># type: ignore[call-arg]  # mypy is not smart enough here</span>
        <span class="k">raise</span> <span class="n">exception_class</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">screen</span><span class="p">,</span> <span class="n">stacktrace</span><span class="p">)</span></div></div>
</pre></div>

            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../../index.html">Selenium 4.25.0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../../index.html" >Module code</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">selenium.webdriver.remote.errorhandler</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2009-2024 Software Freedom Conservancy.
    </div>
  </body>
</html>