<!DOCTYPE html><html lang="en" class="loading"><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"><meta http-equiv="X-UA-Compatible" content="IE=edge"><link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"><title>selenium-webdriver/lib/promise.ControlFlow</title><link href="../../../dossier.css" rel="stylesheet" type="text/css"><header><button class="dossier-menu"><i class="material-icons">menu</i></button><form><input type="search" placeholder="Search" tabindex="1"><i class="material-icons">search</i></form></header><nav class="dossier-nav"></nav><div class="content"><main><article><section class="intro" ><div class="header"><h1 class="title"><div class="tags"><span class="final"></span></div><div>Class ControlFlow</div></h1></div><div class="body"><table class="info"><tr class="info-row block" ><th class="info-head">Exported By</th><td class="info-cell" ><ul class="type-list"><li ><code class="expression"><a href="promise.html">selenium-webdriver/lib/promise</a></code></ul></td></tr><tr class="info-row block" ><th class="info-head">Extends</th><td class="info-cell" ><ul class="type-list"><li  class="super-class"><code class="expression"><a href="events_exports_EventEmitter.html">selenium-webdriver/lib/events.EventEmitter</a></code></ul></td></tr><tr class="info-row block" ><th class="info-head">All Implemented Interfaces</th><td class="info-cell" ><ul class="type-list"><li ><code class="expression"><a href="promise_exports_Scheduler.html">selenium-webdriver/lib/promise.Scheduler</a></code></ul></td></tr></table><p>Handles the execution of scheduled tasks, each of which may be an
asynchronous operation. The control flow will ensure tasks are executed in
the order scheduled, starting each task only once those before it have
completed.</p>
<p>Each task scheduled within this flow may return a <a href="promise_exports_Promise.html"><code>ManagedPromise</code></a> to
indicate it is an asynchronous operation. The ControlFlow will wait for such
promises to be resolved before marking the task as completed.</p>
<p>Tasks and each callback registered on a <a href="promise_exports_Promise.html"><code>ManagedPromise</code></a> will be run
in their own ControlFlow frame. Any tasks scheduled within a frame will take
priority over previously scheduled tasks. Furthermore, if any of the tasks in
the frame fail, the remainder of the tasks in that frame will be discarded
and the failure will be propagated to the user through the callback/task&#39;s
promised result.</p>
<p>Each time a ControlFlow empties its task queue, it will fire an
<code>IDLE</code> event. Conversely, whenever
the flow terminates due to an unhandled error, it will remove all
remaining tasks in its queue and fire an
<code>UNCAUGHT_EXCEPTION</code> event.
If there are no listeners registered with the flow, the error will be
rethrown to the global error handler.</p>
<p>Refer to the <a href="promise.html"><code>./promise</code></a> module documentation for a detailed
explanation of how the ControlFlow coordinates task execution.</p>
<h3 class="name"><div>new ControlFlow()</div></h3><table class="info"><tr class="info-row block" ><th class="info-head">Parameters</th><td class="info-cell" ><p>None.</p></td></tr></table><div class="source"><a href="https://github.com/SeleniumHQ/selenium/tree/master/javascript/node/selenium-webdriver/lib/promise.js#L3366" target="_blank" title="View source">VIEW SOURCE</a></div></div></section><section class="instance-methods"><h2>Instance Methods</h2><section class="property expandable"  id="addListener"><div class="header"><div class="more"><i class="material-icons">expand_more</i></div><h3 class="name"><div><var>this.</var>addListener( <var>type</var>, <var>fn</var>, <var>opt_self</var> ) <var class="yield">→</var> <code class="expression"><a href="events_exports_EventEmitter.html" title="selenium-webdriver/lib/events.EventEmitter">EventEmitter</a></code></div></h3></div><div class="body"><p>Registers a listener.</p>
<table class="info"><tr class="info-row block" ><th class="info-head">Defined by</th><td class="info-cell" ><ul class="type-list"><li ><code class="expression"><a href="events_exports_EventEmitter.html#addListener">selenium-webdriver/lib/events.EventEmitter</a></code></ul></td></tr><tr class="info-row block" ><th class="info-head">Parameters</th><td class="info-cell" ><table class="info detail"><tr class="info-row" ><td class="info-cell" ><var>type</var></td><td class="info-cell" ><code class="expression"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">string</a></code></td></tr><tr class="info-row" ><td class="info-cell" ></td><td class="info-cell" ><p>The type of event to listen for.</p>
</td></tr><tr class="info-row" ><td class="info-cell" ><var>fn</var></td><td class="info-cell" ><code class="expression">Function</code></td></tr><tr class="info-row" ><td class="info-cell" ></td><td class="info-cell" ><p>The function to invoke when the event is fired.</p>
</td></tr><tr class="info-row" ><td class="info-cell" ><var>opt_self</var></td><td class="info-cell" ><code class="expression">(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank">Object</a>|null|undefined)</code></td></tr><tr class="info-row" ><td class="info-cell" ></td><td class="info-cell" ><p>The object in whose scope to invoke the listener.</p>
</td></tr></table></td></tr><tr class="info-row block" ><th class="info-head">Returns</th><td class="info-cell" ><table class="info detail"><tr class="info-row" ><td class="info-cell" ><code class="expression"><a href="events_exports_EventEmitter.html" title="selenium-webdriver/lib/events.EventEmitter">EventEmitter</a></code></td></tr><tr class="info-row" ><td class="info-cell" ><p>A self reference.</p>
</td></tr></table></td></tr></table><div class="source"><a href="https://github.com/SeleniumHQ/selenium/tree/master/javascript/node/selenium-webdriver/lib/events.js#L119" target="_blank" title="View source">VIEW SOURCE</a></div></div></section><section class="property expandable"  id="async"><div class="header"><div class="more"><i class="material-icons">expand_more</i></div><h3 class="name"><div><var>this.</var>async( <var>fn</var>, <var>opt_self</var>, <var>...var_args</var> ) <var class="yield">→</var> <code class="expression"><i>void</i></code></div></h3></div><div class="body"><p>Executes a function in the next available turn of the JavaScript event
loop. This ensures the function runs with its own task queue and any
scheduled tasks will run in &#34;parallel&#34; to those scheduled in the current
function.</p>
<pre><code> flow.execute(() &#61;&gt; console.log(&#39;a&#39;));
 flow.execute(() &#61;&gt; console.log(&#39;b&#39;));
 flow.execute(() &#61;&gt; console.log(&#39;c&#39;));
 flow.async(() &#61;&gt; {
    flow.execute(() &#61;&gt; console.log(&#39;d&#39;));
    flow.execute(() &#61;&gt; console.log(&#39;e&#39;));
 });
 flow.async(() &#61;&gt; {
    flow.execute(() &#61;&gt; console.log(&#39;f&#39;));
    flow.execute(() &#61;&gt; console.log(&#39;g&#39;));
 });
 flow.once(&#39;idle&#39;, () &#61;&gt; console.log(&#39;fin&#39;));
 // a
 // d
 // f
 // b
 // e
 // g
 // c
 // fin
</code></pre>
<p>If the function itself throws, the error will be treated the same as an
unhandled rejection within the control flow.</p>
<p><strong>NOTE</strong>: This function is considered <em>unstable</em>.</p>
<table class="info"><tr class="info-row block" ><th class="info-head">Parameters</th><td class="info-cell" ><table class="info detail"><tr class="info-row" ><td class="info-cell" ><var>fn</var></td><td class="info-cell" ><code class="expression">Function</code></td></tr><tr class="info-row" ><td class="info-cell" ></td><td class="info-cell" ><p>The function to execute.</p>
</td></tr><tr class="info-row" ><td class="info-cell" ><var>opt_self</var></td><td class="info-cell" ><code class="expression">(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank">Object</a>|null|undefined)</code></td></tr><tr class="info-row" ><td class="info-cell" ></td><td class="info-cell" ><p>The object in whose context to run the function.</p>
</td></tr><tr class="info-row" ><td class="info-cell" ><var>var_args</var></td><td class="info-cell" ><code class="expression">...*</code></td></tr><tr class="info-row" ><td class="info-cell" ></td><td class="info-cell" ><p>Any arguments to pass to the function.</p>
</td></tr></table></td></tr></table><div class="source"><a href="https://github.com/SeleniumHQ/selenium/tree/master/javascript/node/selenium-webdriver/lib/promise.js#L2564" target="_blank" title="View source">VIEW SOURCE</a></div></div></section><section class="property expandable"  id="emit"><div class="header"><div class="more"><i class="material-icons">expand_more</i></div><h3 class="name"><div><var>this.</var>emit( <var>type</var>, <var>...var_args</var> ) <var class="yield">→</var> <code class="expression"><i>void</i></code></div></h3></div><div class="body"><p>Fires an event and calls all listeners.</p>
<table class="info"><tr class="info-row block" ><th class="info-head">Defined by</th><td class="info-cell" ><ul class="type-list"><li ><code class="expression"><a href="events_exports_EventEmitter.html#emit">selenium-webdriver/lib/events.EventEmitter</a></code></ul></td></tr><tr class="info-row block" ><th class="info-head">Parameters</th><td class="info-cell" ><table class="info detail"><tr class="info-row" ><td class="info-cell" ><var>type</var></td><td class="info-cell" ><code class="expression"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">string</a></code></td></tr><tr class="info-row" ><td class="info-cell" ></td><td class="info-cell" ><p>The type of event to emit.</p>
</td></tr><tr class="info-row" ><td class="info-cell" ><var>var_args</var></td><td class="info-cell" ><code class="expression">...*</code></td></tr><tr class="info-row" ><td class="info-cell" ></td><td class="info-cell" ><p>Any arguments to pass to each listener.</p>
</td></tr></table></td></tr></table><div class="source"><a href="https://github.com/SeleniumHQ/selenium/tree/master/javascript/node/selenium-webdriver/lib/events.js#L51" target="_blank" title="View source">VIEW SOURCE</a></div></div></section><section class="property expandable"  id="execute"><div class="header"><div class="more"><i class="material-icons">expand_more</i></div><h3 class="name"><div><var>this.</var>execute( <var>fn</var>, <var>opt_description</var> ) <var class="yield">→</var> <code class="expression"><a href="promise_exports_Thenable.html" title="selenium-webdriver/lib/promise.Thenable">Thenable</a>&lt;(T|null)&gt;</code></div></h3></div><div class="body"><p>Schedules a task for execution. If the task function is a generator, the
task will be executed using <a href="promise.html#consume"><code>consume()</code></a>.</p>
<table class="info"><tr class="info-row block" ><th class="info-head">Specified by</th><td class="info-cell" ><ul class="type-list"><li ><code class="expression"><a href="promise_exports_Scheduler.html#execute">selenium-webdriver/lib/promise.Scheduler</a></code></ul></td></tr><tr class="info-row block" ><th class="info-head">Parameters</th><td class="info-cell" ><table class="info detail"><tr class="info-row" ><td class="info-cell" ><var>fn</var></td><td class="info-cell" ><code class="expression">function(): (T|<a href="https://github.com/google/closure-compiler/wiki/Special-types-in-the-Closure-Type-System#ithenable" target="_blank">IThenable</a>&lt;(T|null)&gt;|null)</code></td></tr><tr class="info-row" ><td class="info-cell" ></td><td class="info-cell" ><p>The function to call to start the
task.</p>
</td></tr><tr class="info-row" ><td class="info-cell" ><var>opt_description</var></td><td class="info-cell" ><code class="expression">(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">string</a>|undefined)</code></td></tr><tr class="info-row" ><td class="info-cell" ></td><td class="info-cell" ><p>A description of the task for debugging
purposes.</p>
</td></tr></table></td></tr><tr class="info-row block" ><th class="info-head">Returns</th><td class="info-cell" ><table class="info detail"><tr class="info-row" ><td class="info-cell" ><code class="expression"><a href="promise_exports_Thenable.html" title="selenium-webdriver/lib/promise.Thenable">Thenable</a>&lt;(T|null)&gt;</code></td></tr><tr class="info-row" ><td class="info-cell" ><p>A promise that will be resolved with the task
result.</p>
</td></tr></table></td></tr></table><div class="source"><a href="https://github.com/SeleniumHQ/selenium/tree/master/javascript/node/selenium-webdriver/lib/promise.js#L2474" target="_blank" title="View source">VIEW SOURCE</a></div></div></section><section class="property expandable"  id="getSchedule"><div class="header"><div class="more"><i class="material-icons">expand_more</i></div><h3 class="name"><div><var>this.</var>getSchedule( <var>opt_includeStackTraces</var> ) <var class="yield">→</var> <code class="expression"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">string</a></code></div></h3></div><div class="body"><p>Generates an annotated string describing the internal state of this control
flow, including the currently executing as well as pending tasks. If
<code>opt_includeStackTraces &#61;&#61;&#61; true</code>, the string will include the
stack trace from when each task was scheduled.</p>
<table class="info"><tr class="info-row block" ><th class="info-head">Parameters</th><td class="info-cell" ><table class="info detail"><tr class="info-row" ><td class="info-cell" ><var>opt_includeStackTraces</var></td><td class="info-cell" ><code class="expression">(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">string</a>|undefined)</code></td></tr><tr class="info-row" ><td class="info-cell" ></td><td class="info-cell" ><p>Whether to include the stack traces
from when each task was scheduled. Defaults to false.</p>
</td></tr></table></td></tr><tr class="info-row block" ><th class="info-head">Returns</th><td class="info-cell" ><table class="info detail"><tr class="info-row" ><td class="info-cell" ><code class="expression"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">string</a></code></td></tr><tr class="info-row" ><td class="info-cell" ><p>String representation of this flow&#39;s internal state.</p>
</td></tr></table></td></tr></table><div class="source"><a href="https://github.com/SeleniumHQ/selenium/tree/master/javascript/node/selenium-webdriver/lib/promise.js#L2400" target="_blank" title="View source">VIEW SOURCE</a></div></div></section><section class="property expandable"  id="isIdle"><div class="header"><div class="more"><i class="material-icons">expand_more</i></div><h3 class="name"><div><var>this.</var>isIdle() <var class="yield">→</var> <code class="expression"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank">boolean</a></code></div></h3></div><div class="body"><table class="info"><tr class="info-row block" ><th class="info-head">Parameters</th><td class="info-cell" ><p>None.</p></td></tr><tr class="info-row block" ><th class="info-head">Returns</th><td class="info-cell" ><table class="info detail"><tr class="info-row" ><td class="info-cell" ><code class="expression"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank">boolean</a></code></td></tr><tr class="info-row" ><td class="info-cell" ><p>Whether this flow is currently idle.</p>
</td></tr></table></td></tr></table><div class="source"><a href="https://github.com/SeleniumHQ/selenium/tree/master/javascript/node/selenium-webdriver/lib/promise.js#L2377" target="_blank" title="View source">VIEW SOURCE</a></div></div></section><section class="property expandable"  id="listeners"><div class="header"><div class="more"><i class="material-icons">expand_more</i></div><h3 class="name"><div><var>this.</var>listeners( <var>type</var> ) <var class="yield">→</var> <code class="expression"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set" target="_blank">Set</a>&lt;<a href="events_exports_Listener.html" title="selenium-webdriver/lib/events.Listener">Listener</a>&gt;</code></div></h3></div><div class="body"><p>Returns a mutable list of listeners for a specific type of event.</p>
<table class="info"><tr class="info-row block" ><th class="info-head">Defined by</th><td class="info-cell" ><ul class="type-list"><li ><code class="expression"><a href="events_exports_EventEmitter.html#listeners">selenium-webdriver/lib/events.EventEmitter</a></code></ul></td></tr><tr class="info-row block" ><th class="info-head">Parameters</th><td class="info-cell" ><table class="info detail"><tr class="info-row" ><td class="info-cell" ><var>type</var></td><td class="info-cell" ><code class="expression"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">string</a></code></td></tr><tr class="info-row" ><td class="info-cell" ></td><td class="info-cell" ><p>The type of event to retrieve the listeners for.</p>
</td></tr></table></td></tr><tr class="info-row block" ><th class="info-head">Returns</th><td class="info-cell" ><table class="info detail"><tr class="info-row" ><td class="info-cell" ><code class="expression"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set" target="_blank">Set</a>&lt;<a href="events_exports_Listener.html" title="selenium-webdriver/lib/events.Listener">Listener</a>&gt;</code></td></tr><tr class="info-row" ><td class="info-cell" ><p>The registered listeners for the given event
type.</p>
</td></tr></table></td></tr></table><div class="source"><a href="https://github.com/SeleniumHQ/selenium/tree/master/javascript/node/selenium-webdriver/lib/events.js#L76" target="_blank" title="View source">VIEW SOURCE</a></div></div></section><section class="property expandable"  id="on"><div class="header"><div class="more"><i class="material-icons">expand_more</i></div><h3 class="name"><div><var>this.</var>on( <var>type</var>, <var>fn</var>, <var>opt_self</var> ) <var class="yield">→</var> <code class="expression"><a href="events_exports_EventEmitter.html" title="selenium-webdriver/lib/events.EventEmitter">EventEmitter</a></code></div></h3></div><div class="body"><p>An alias for <a href="promise_exports_ControlFlow.html#addListener"><code>addListener()</code></a>.</p>
<table class="info"><tr class="info-row block" ><th class="info-head">Defined by</th><td class="info-cell" ><ul class="type-list"><li ><code class="expression"><a href="events_exports_EventEmitter.html#on">selenium-webdriver/lib/events.EventEmitter</a></code></ul></td></tr><tr class="info-row block" ><th class="info-head">Parameters</th><td class="info-cell" ><table class="info detail"><tr class="info-row" ><td class="info-cell" ><var>type</var></td><td class="info-cell" ><code class="expression"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">string</a></code></td></tr><tr class="info-row" ><td class="info-cell" ></td><td class="info-cell" ><p>The type of event to listen for.</p>
</td></tr><tr class="info-row" ><td class="info-cell" ><var>fn</var></td><td class="info-cell" ><code class="expression">Function</code></td></tr><tr class="info-row" ><td class="info-cell" ></td><td class="info-cell" ><p>The function to invoke when the event is fired.</p>
</td></tr><tr class="info-row" ><td class="info-cell" ><var>opt_self</var></td><td class="info-cell" ><code class="expression">(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank">Object</a>|null|undefined)</code></td></tr><tr class="info-row" ><td class="info-cell" ></td><td class="info-cell" ><p>The object in whose scope to invoke the listener.</p>
</td></tr></table></td></tr><tr class="info-row block" ><th class="info-head">Returns</th><td class="info-cell" ><table class="info detail"><tr class="info-row" ><td class="info-cell" ><code class="expression"><a href="events_exports_EventEmitter.html" title="selenium-webdriver/lib/events.EventEmitter">EventEmitter</a></code></td></tr><tr class="info-row" ><td class="info-cell" ><p>A self reference.</p>
</td></tr></table></td></tr></table><div class="source"><a href="https://github.com/SeleniumHQ/selenium/tree/master/javascript/node/selenium-webdriver/lib/events.js#L142" target="_blank" title="View source">VIEW SOURCE</a></div></div></section><section class="property expandable"  id="once"><div class="header"><div class="more"><i class="material-icons">expand_more</i></div><h3 class="name"><div><var>this.</var>once( <var>type</var>, <var>fn</var>, <var>opt_self</var> ) <var class="yield">→</var> <code class="expression"><a href="events_exports_EventEmitter.html" title="selenium-webdriver/lib/events.EventEmitter">EventEmitter</a></code></div></h3></div><div class="body"><p>Registers a one-time listener which will be called only the first time an
event is emitted, after which it will be removed.</p>
<table class="info"><tr class="info-row block" ><th class="info-head">Defined by</th><td class="info-cell" ><ul class="type-list"><li ><code class="expression"><a href="events_exports_EventEmitter.html#once">selenium-webdriver/lib/events.EventEmitter</a></code></ul></td></tr><tr class="info-row block" ><th class="info-head">Parameters</th><td class="info-cell" ><table class="info detail"><tr class="info-row" ><td class="info-cell" ><var>type</var></td><td class="info-cell" ><code class="expression"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">string</a></code></td></tr><tr class="info-row" ><td class="info-cell" ></td><td class="info-cell" ><p>The type of event to listen for.</p>
</td></tr><tr class="info-row" ><td class="info-cell" ><var>fn</var></td><td class="info-cell" ><code class="expression">Function</code></td></tr><tr class="info-row" ><td class="info-cell" ></td><td class="info-cell" ><p>The function to invoke when the event is fired.</p>
</td></tr><tr class="info-row" ><td class="info-cell" ><var>opt_self</var></td><td class="info-cell" ><code class="expression">(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank">Object</a>|null|undefined)</code></td></tr><tr class="info-row" ><td class="info-cell" ></td><td class="info-cell" ><p>The object in whose scope to invoke the listener.</p>
</td></tr></table></td></tr><tr class="info-row block" ><th class="info-head">Returns</th><td class="info-cell" ><table class="info detail"><tr class="info-row" ><td class="info-cell" ><code class="expression"><a href="events_exports_EventEmitter.html" title="selenium-webdriver/lib/events.EventEmitter">EventEmitter</a></code></td></tr><tr class="info-row" ><td class="info-cell" ><p>A self reference.</p>
</td></tr></table></td></tr></table><div class="source"><a href="https://github.com/SeleniumHQ/selenium/tree/master/javascript/node/selenium-webdriver/lib/events.js#L131" target="_blank" title="View source">VIEW SOURCE</a></div></div></section><section class="property expandable"  id="promise"><div class="header"><div class="more"><i class="material-icons">expand_more</i></div><h3 class="name"><div><var>this.</var>promise( <var>resolver</var> ) <var class="yield">→</var> <code class="expression"><a href="promise_exports_Thenable.html" title="selenium-webdriver/lib/promise.Thenable">Thenable</a>&lt;(T|null)&gt;</code></div></h3></div><div class="body"><p>Creates a new promise using the given resolver function.</p>
<table class="info"><tr class="info-row block" ><th class="info-head">Specified by</th><td class="info-cell" ><ul class="type-list"><li ><code class="expression"><a href="promise_exports_Scheduler.html#promise">selenium-webdriver/lib/promise.Scheduler</a></code></ul></td></tr><tr class="info-row block" ><th class="info-head">Parameters</th><td class="info-cell" ><table class="info detail"><tr class="info-row" ><td class="info-cell" ><var>resolver</var></td><td class="info-cell" ><code class="expression">function(function(()): ?, function(*): ?): ?</code></td></tr></table></td></tr><tr class="info-row block" ><th class="info-head">Returns</th><td class="info-cell" ><table class="info detail"><tr class="info-row" ><td class="info-cell" ><code class="expression"><a href="promise_exports_Thenable.html" title="selenium-webdriver/lib/promise.Thenable">Thenable</a>&lt;(T|null)&gt;</code></td></tr></table></td></tr></table><div class="source"><a href="https://github.com/SeleniumHQ/selenium/tree/master/javascript/node/selenium-webdriver/lib/promise.js#L2512" target="_blank" title="View source">VIEW SOURCE</a></div></div></section><section class="property expandable"  id="removeAllListeners"><div class="header"><div class="more"><i class="material-icons">expand_more</i></div><h3 class="name"><div><var>this.</var>removeAllListeners( <var>opt_type</var> ) <var class="yield">→</var> <code class="expression"><a href="events_exports_EventEmitter.html" title="selenium-webdriver/lib/events.EventEmitter">EventEmitter</a></code></div></h3></div><div class="body"><p>Removes all listeners for a specific type of event. If no event is
specified, all listeners across all types will be removed.</p>
<table class="info"><tr class="info-row block" ><th class="info-head">Defined by</th><td class="info-cell" ><ul class="type-list"><li ><code class="expression"><a href="events_exports_EventEmitter.html#removeAllListeners">selenium-webdriver/lib/events.EventEmitter</a></code></ul></td></tr><tr class="info-row block" ><th class="info-head">Parameters</th><td class="info-cell" ><table class="info detail"><tr class="info-row" ><td class="info-cell" ><var>opt_type</var></td><td class="info-cell" ><code class="expression">(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">string</a>|undefined)</code></td></tr><tr class="info-row" ><td class="info-cell" ></td><td class="info-cell" ><p>The type of event to remove listeners from.</p>
</td></tr></table></td></tr><tr class="info-row block" ><th class="info-head">Returns</th><td class="info-cell" ><table class="info detail"><tr class="info-row" ><td class="info-cell" ><code class="expression"><a href="events_exports_EventEmitter.html" title="selenium-webdriver/lib/events.EventEmitter">EventEmitter</a></code></td></tr><tr class="info-row" ><td class="info-cell" ><p>A self reference.</p>
</td></tr></table></td></tr></table><div class="source"><a href="https://github.com/SeleniumHQ/selenium/tree/master/javascript/node/selenium-webdriver/lib/events.js#L190" target="_blank" title="View source">VIEW SOURCE</a></div></div></section><section class="property expandable"  id="removeListener"><div class="header"><div class="more"><i class="material-icons">expand_more</i></div><h3 class="name"><div><var>this.</var>removeListener( <var>type</var>, <var>listenerFn</var> ) <var class="yield">→</var> <code class="expression"><a href="events_exports_EventEmitter.html" title="selenium-webdriver/lib/events.EventEmitter">EventEmitter</a></code></div></h3></div><div class="body"><p>Removes a previously registered event listener.</p>
<table class="info"><tr class="info-row block" ><th class="info-head">Defined by</th><td class="info-cell" ><ul class="type-list"><li ><code class="expression"><a href="events_exports_EventEmitter.html#removeListener">selenium-webdriver/lib/events.EventEmitter</a></code></ul></td></tr><tr class="info-row block" ><th class="info-head">Parameters</th><td class="info-cell" ><table class="info detail"><tr class="info-row" ><td class="info-cell" ><var>type</var></td><td class="info-cell" ><code class="expression"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">string</a></code></td></tr><tr class="info-row" ><td class="info-cell" ></td><td class="info-cell" ><p>The type of event to unregister.</p>
</td></tr><tr class="info-row" ><td class="info-cell" ><var>listenerFn</var></td><td class="info-cell" ><code class="expression">Function</code></td></tr><tr class="info-row" ><td class="info-cell" ></td><td class="info-cell" ><p>The handler function to remove.</p>
</td></tr></table></td></tr><tr class="info-row block" ><th class="info-head">Returns</th><td class="info-cell" ><table class="info detail"><tr class="info-row" ><td class="info-cell" ><code class="expression"><a href="events_exports_EventEmitter.html" title="selenium-webdriver/lib/events.EventEmitter">EventEmitter</a></code></td></tr><tr class="info-row" ><td class="info-cell" ><p>A self reference.</p>
</td></tr></table></td></tr></table><div class="source"><a href="https://github.com/SeleniumHQ/selenium/tree/master/javascript/node/selenium-webdriver/lib/events.js#L152" target="_blank" title="View source">VIEW SOURCE</a></div></div></section><section class="property expandable"  id="reset"><div class="header"><div class="more"><i class="material-icons">expand_more</i></div><h3 class="name"><div><var>this.</var>reset() <var class="yield">→</var> <code class="expression"><i>void</i></code></div></h3></div><div class="body"><p>Resets this instance, clearing its queue and removing all event listeners.</p>
<div class="source"><a href="https://github.com/SeleniumHQ/selenium/tree/master/javascript/node/selenium-webdriver/lib/promise.js#L2384" target="_blank" title="View source">VIEW SOURCE</a></div></div></section><section class="property expandable"  id="setPropagateUnhandledRejections"><div class="header"><div class="more"><i class="material-icons">expand_more</i></div><h3 class="name"><div><var>this.</var>setPropagateUnhandledRejections( <var>propagate</var> ) <var class="yield">→</var> <code class="expression"><i>void</i></code></div></h3></div><div class="body"><p>Sets whether any unhandled rejections should propagate up through the
control flow stack and cause rejections within parent tasks. If error
propagation is disabled, tasks will not be aborted when an unhandled
promise rejection is detected, but the rejection <em>will</em> trigger an
<code>ControlFlow.EventType.UNCAUGHT_EXCEPTION</code> event.</p>
<p>The default behavior is to propagate all unhandled rejections. <em>The use
of this option is highly discouraged.</em></p>
<table class="info"><tr class="info-row block" ><th class="info-head">Parameters</th><td class="info-cell" ><table class="info detail"><tr class="info-row" ><td class="info-cell" ><var>propagate</var></td><td class="info-cell" ><code class="expression"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank">boolean</a></code></td></tr><tr class="info-row" ><td class="info-cell" ></td><td class="info-cell" ><p>whether to propagate errors.</p>
</td></tr></table></td></tr></table><div class="source"><a href="https://github.com/SeleniumHQ/selenium/tree/master/javascript/node/selenium-webdriver/lib/promise.js#L2370" target="_blank" title="View source">VIEW SOURCE</a></div></div></section><section class="property expandable"  id="timeout"><div class="header"><div class="more"><i class="material-icons">expand_more</i></div><h3 class="name"><div><var>this.</var>timeout( <var>ms</var>, <var>opt_description</var> ) <var class="yield">→</var> <code class="expression"><a href="promise_exports_Thenable.html" title="selenium-webdriver/lib/promise.Thenable">Thenable</a>&lt;undefined&gt;</code></div></h3></div><div class="body"><p>Schedules a <code>setTimeout</code> call.</p>
<table class="info"><tr class="info-row block" ><th class="info-head">Specified by</th><td class="info-cell" ><ul class="type-list"><li ><code class="expression"><a href="promise_exports_Scheduler.html#timeout">selenium-webdriver/lib/promise.Scheduler</a></code></ul></td></tr><tr class="info-row block" ><th class="info-head">Parameters</th><td class="info-cell" ><table class="info detail"><tr class="info-row" ><td class="info-cell" ><var>ms</var></td><td class="info-cell" ><code class="expression"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank">number</a></code></td></tr><tr class="info-row" ><td class="info-cell" ></td><td class="info-cell" ><p>The timeout delay, in milliseconds.</p>
</td></tr><tr class="info-row" ><td class="info-cell" ><var>opt_description</var></td><td class="info-cell" ><code class="expression">(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">string</a>|undefined)</code></td></tr><tr class="info-row" ><td class="info-cell" ></td><td class="info-cell" ><p>A description to accompany the timeout.</p>
</td></tr></table></td></tr><tr class="info-row block" ><th class="info-head">Returns</th><td class="info-cell" ><table class="info detail"><tr class="info-row" ><td class="info-cell" ><code class="expression"><a href="promise_exports_Thenable.html" title="selenium-webdriver/lib/promise.Thenable">Thenable</a>&lt;undefined&gt;</code></td></tr><tr class="info-row" ><td class="info-cell" ><p>A promise that will be resolved when the timeout
fires.</p>
</td></tr></table></td></tr></table><div class="source"><a href="https://github.com/SeleniumHQ/selenium/tree/master/javascript/node/selenium-webdriver/lib/promise.js#L2517" target="_blank" title="View source">VIEW SOURCE</a></div></div></section><section class="property expandable"  id="toString"><div class="header"><div class="more"><i class="material-icons">expand_more</i></div><h3 class="name"><div><var>this.</var>toString() <var class="yield">→</var> <code class="expression"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">string</a></code></div></h3></div><div class="body"><p>Returns a string representation of this control flow, which is its current
<a href="promise_exports_ControlFlow.html#getSchedule">schedule</a>, sans task stack traces.</p>
<table class="info"><tr class="info-row block" ><th class="info-head">Parameters</th><td class="info-cell" ><p>None.</p></td></tr><tr class="info-row block" ><th class="info-head">Returns</th><td class="info-cell" ><table class="info detail"><tr class="info-row" ><td class="info-cell" ><code class="expression"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">string</a></code></td></tr><tr class="info-row" ><td class="info-cell" ><p>The string representation of this control flow.</p>
</td></tr></table></td></tr></table><div class="source"><a href="https://github.com/SeleniumHQ/selenium/tree/master/javascript/node/selenium-webdriver/lib/promise.js#L2354" target="_blank" title="View source">VIEW SOURCE</a></div></div></section><section class="property expandable"  id="wait"><div class="header"><div class="more"><i class="material-icons">expand_more</i></div><h3 class="name"><div><var>this.</var>wait( <var>condition</var>, <var>opt_timeout</var>, <var>opt_message</var> ) <var class="yield">→</var> <code class="expression"><a href="promise_exports_Thenable.html" title="selenium-webdriver/lib/promise.Thenable">Thenable</a>&lt;(T|null)&gt;</code></div></h3></div><div class="body"><p>Schedules a task to wait for a condition to hold.</p>
<p>If the condition is defined as a function, it may return any value. Promise
will be resolved before testing if the condition holds (resolution time
counts towards the timeout). Once resolved, values are always evaluated as
booleans.</p>
<p>If the condition function throws, or returns a rejected promise, the
wait task will fail.</p>
<p>If the condition is defined as a promise, the scheduler will wait for it to
settle. If the timeout expires before the promise settles, the promise
returned by this function will be rejected.</p>
<p>If this function is invoked with <code>timeout &#61;&#61;&#61; 0</code>, or the timeout is
omitted, this scheduler will wait indefinitely for the condition to be
satisfied.</p>
<table class="info"><tr class="info-row block" ><th class="info-head">Specified by</th><td class="info-cell" ><ul class="type-list"><li ><code class="expression"><a href="promise_exports_Scheduler.html#wait">selenium-webdriver/lib/promise.Scheduler</a></code></ul></td></tr><tr class="info-row block" ><th class="info-head">Parameters</th><td class="info-cell" ><table class="info detail"><tr class="info-row" ><td class="info-cell" ><var>condition</var></td><td class="info-cell" ><code class="expression">(<a href="https://github.com/google/closure-compiler/wiki/Special-types-in-the-Closure-Type-System#ithenable" target="_blank">IThenable</a>&lt;(T|null)&gt;|function(): ?)</code></td></tr><tr class="info-row" ><td class="info-cell" ></td><td class="info-cell" ><p>The condition to poll,
or a promise to wait on.</p>
</td></tr><tr class="info-row" ><td class="info-cell" ><var>opt_timeout</var></td><td class="info-cell" ><code class="expression">(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank">number</a>|undefined)</code></td></tr><tr class="info-row" ><td class="info-cell" ></td><td class="info-cell" ><p>How long to wait, in milliseconds, for the
condition to hold before timing out. If omitted, the flow will wait
indefinitely.</p>
</td></tr><tr class="info-row" ><td class="info-cell" ><var>opt_message</var></td><td class="info-cell" ><code class="expression">(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">string</a>|undefined)</code></td></tr><tr class="info-row" ><td class="info-cell" ></td><td class="info-cell" ><p>An optional error message to include if the
wait times out; defaults to the empty string.</p>
</td></tr></table></td></tr><tr class="info-row block" ><th class="info-head">Returns</th><td class="info-cell" ><table class="info detail"><tr class="info-row" ><td class="info-cell" ><code class="expression"><a href="promise_exports_Thenable.html" title="selenium-webdriver/lib/promise.Thenable">Thenable</a>&lt;(T|null)&gt;</code></td></tr><tr class="info-row" ><td class="info-cell" ><p>A promise that will be fulfilled
when the condition has been satisfied. The promise shall be rejected
if the wait times out waiting for the condition.</p>
</td></tr></table></td></tr></table><div class="source"><a href="https://github.com/SeleniumHQ/selenium/tree/master/javascript/node/selenium-webdriver/lib/promise.js#L2524" target="_blank" title="View source">VIEW SOURCE</a></div></div></section></section><section class="types"><h2>Enumerations</h2><ul><li class="summary"><div><a href="promise_exports_ControlFlow.EventType.html">ControlFlow.EventType</a></div></ul></section></article></main><footer><div><a href="https://github.com/jleyba/js-dossier">Generated by dossier</a></div></footer></div><script src="../../../types.js"></script><script src="../../../dossier.js"></script>