{"version":3,"sources":["../src/copy_map.mjs"],"names":["globalObject","Function","copyArrayBuffer","value","slice","copyBoolean","Boolean","valueOf","copyDataView","DataView","buffer","copyBuffer","copyDate","Date","getTime","copyNumber","Number","copyRegExp","RegExp","source","flags","copyString","String","copyTypedArray","type","from","shallowCopy","getEmptyArray","getEmptyMap","Map","getEmptyObject","getEmptySet","Set"],"mappings":"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","sourcesContent":["import { copy as cloneBuffer } from './buffer';\n\nconst globalObject = Function('return this')();\n\n/**\n * copy ArrayBuffer\n *\n * @param {ArrayBuffer} value\n * @return {ArrayBuffer}\n */\nfunction copyArrayBuffer(value) {\n  return value.slice(0);\n}\n\n/**\n * copy Boolean\n *\n * @param {Boolean} value\n * @return {Boolean}\n */\nfunction copyBoolean(value) {\n  return new Boolean(value.valueOf());\n}\n\n/**\n * copy DataView\n *\n * @param {DataView} value\n * @return {DataView}\n */\nfunction copyDataView(value) {\n  // TODO: copy ArrayBuffer?\n  return new DataView(value.buffer);\n}\n\n/**\n * copy Buffer\n *\n * @param {Buffer} value\n * @return {Buffer}\n */\nfunction copyBuffer(value) {\n  return cloneBuffer(value);\n}\n\n/**\n * copy Date\n *\n * @param {Date} value\n * @return {Date}\n */\nfunction copyDate(value) {\n  return new Date(value.getTime());\n}\n\n/**\n * copy Number\n *\n * @param {Number} value\n * @return {Number}\n */\nfunction copyNumber(value) {\n  return new Number(value);\n}\n\n/**\n * copy RegExp\n *\n * @param {RegExp} value\n * @return {RegExp}\n */\nfunction copyRegExp(value) {\n  return new RegExp(value.source || '(?:)', value.flags);\n}\n\n/**\n * copy String\n *\n * @param {String} value\n * @return {String}\n */\nfunction copyString(value) {\n  return new String(value);\n}\n\n/**\n * copy TypedArray\n *\n * @param {*} value\n * @return {*}\n */\nfunction copyTypedArray(value, type) {\n  return globalObject[type].from(value);\n}\n\n/**\n * shallow copy\n *\n * @param {*} value\n * @return {*}\n */\nfunction shallowCopy(value) {\n  return value;\n}\n\n/**\n * get empty Array\n *\n * @return {Array}\n */\nfunction getEmptyArray() {\n  return [];\n}\n\n/**\n * get empty Map\n *\n * @return {Map}\n */\nfunction getEmptyMap() {\n  return new Map();\n}\n\n/**\n * get empty Object\n *\n * @return {Object}\n */\nfunction getEmptyObject() {\n  return {};\n}\n\n/**\n * get empty Set\n *\n * @return {Set}\n */\nfunction getEmptySet() {\n  return new Set();\n}\n\nexport default new Map([\n  // deep copy\n  ['ArrayBuffer', copyArrayBuffer],\n  ['Boolean', copyBoolean],\n  ['Buffer', copyBuffer],\n  ['DataView', copyDataView],\n  ['Date', copyDate],\n  ['Number', copyNumber],\n  ['RegExp', copyRegExp],\n  ['String', copyString],\n\n  // typed arrays\n  // TODO: pass bound function\n  ['Float32Array', copyTypedArray],\n  ['Float64Array', copyTypedArray],\n  ['Int16Array', copyTypedArray],\n  ['Int32Array', copyTypedArray],\n  ['Int8Array', copyTypedArray],\n  ['Uint16Array', copyTypedArray],\n  ['Uint32Array', copyTypedArray],\n  ['Uint8Array', copyTypedArray],\n  ['Uint8ClampedArray', copyTypedArray],\n\n  // shallow copy\n  ['Array Iterator', shallowCopy],\n  ['Map Iterator', shallowCopy],\n  ['Promise', shallowCopy],\n  ['Set Iterator', shallowCopy],\n  ['String Iterator', shallowCopy],\n  ['function', shallowCopy],\n  ['global', shallowCopy],\n  // NOTE: WeakMap and WeakSet cannot get entries\n  ['WeakMap', shallowCopy],\n  ['WeakSet', shallowCopy],\n\n  // primitives\n  ['boolean', shallowCopy],\n  ['null', shallowCopy],\n  ['number', shallowCopy],\n  ['string', shallowCopy],\n  ['symbol', shallowCopy],\n  ['undefined', shallowCopy],\n\n  // collections\n  // NOTE: return empty value, because recursively copy later.\n  ['Arguments', getEmptyArray],\n  ['Array', getEmptyArray],\n  ['Map', getEmptyMap],\n  ['Object', getEmptyObject],\n  ['Set', getEmptySet]\n\n  // NOTE: type-detect returns following types\n  // 'Location'\n  // 'Document'\n  // 'MimeTypeArray'\n  // 'PluginArray'\n  // 'HTMLQuoteElement'\n  // 'HTMLTableDataCellElement'\n  // 'HTMLTableHeaderCellElement'\n\n  // TODO: is type-detect never return 'object'?\n  // 'object'\n]);\n"],"file":"copy_map.js"}